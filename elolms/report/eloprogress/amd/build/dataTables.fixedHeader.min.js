/* lms-reports 0.0.1 LMS-OU Doan Thai Toan- ELO Team*/
!function(o){"function"==typeof define&&define.amd?define(["jquery","report_eloprogress/jquery.dataTables"],function(t){return o(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t=t||window,e&&e.fn.dataTable||(e=require("report_eloprogress/jquery.dataTables")(t,e).$),o(e,t,t.document)}:o(jQuery,window,document)}(function(a,s,f,d){"use strict";var n=a.fn.dataTable,i=0,r=function(t,e){if(!(this instanceof r))throw"FixedHeader must be initialised with the 'new' keyword.";!0===e&&(e={}),t=new n.Api(t),this.c=a.extend(!0,{},r.defaults,e),this.s={dt:t,position:{theadTop:0,tbodyTop:0,tfootTop:0,tfootBottom:0,width:0,left:0,tfootHeight:0,theadHeight:0,windowHeight:a(s).height(),visible:!0},headerMode:null,footerMode:null,autoWidth:t.settings()[0].oFeatures.bAutoWidth,namespace:".dtfc"+i++,scrollLeft:{header:-1,footer:-1},enable:!0},this.dom={floatingHeader:null,thead:a(t.table().header()),tbody:a(t.table().body()),tfoot:a(t.table().footer()),header:{host:null,floating:null,placeholder:null},footer:{host:null,floating:null,placeholder:null}},this.dom.header.host=this.dom.thead.parent(),this.dom.footer.host=this.dom.tfoot.parent();var o=t.settings()[0];if(o._fixedHeader)throw"FixedHeader already initialised on table "+o.nTable.id;(o._fixedHeader=this)._constructor()};return a.extend(r.prototype,{destroy:function(){this.s.dt.off(".dtfc"),a(s).off(this.s.namespace),this.c.header&&this._modeChange("in-place","header",!0),this.c.footer&&this.dom.tfoot.length&&this._modeChange("in-place","footer",!0)},enable:function(t,e){this.s.enable=t,!e&&e!==d||(this._positions(),this._scroll(!0))},enabled:function(){return this.s.enable},headerOffset:function(t){return t!==d&&(this.c.headerOffset=t,this.update()),this.c.headerOffset},footerOffset:function(t){return t!==d&&(this.c.footerOffset=t,this.update()),this.c.footerOffset},update:function(){var t=this.s.dt.table().node();a(t).is(":visible")?this.enable(!0,!1):this.enable(!1,!1),this._positions(),this._scroll(!0)},_constructor:function(){var t=this,e=this.s.dt;a(s).on("scroll"+this.s.namespace,function(){t._scroll()}).on("resize"+this.s.namespace,n.util.throttle(function(){t.s.position.windowHeight=a(s).height(),t.update()},50));var o=a(".fh-fixedHeader");!this.c.headerOffset&&o.length&&(this.c.headerOffset=o.outerHeight());var i=a(".fh-fixedFooter");!this.c.footerOffset&&i.length&&(this.c.footerOffset=i.outerHeight()),e.on("column-reorder.dt.dtfc column-visibility.dt.dtfc draw.dt.dtfc column-sizing.dt.dtfc responsive-display.dt.dtfc",function(){t.update()}),e.on("destroy.dtfc",function(){t.destroy()}),this._positions(),this._scroll()},_clone:function(t,e){var o=this.s.dt,i=this.dom[t],s="header"===t?this.dom.thead:this.dom.tfoot;!e&&i.floating?i.floating.removeClass("fixedHeader-floating fixedHeader-locked"):(i.floating&&(i.placeholder.remove(),this._unsize(t),i.floating.children().detach(),i.floating.remove()),i.floating=a(o.table().node().cloneNode(!1)).css("table-layout","fixed").attr("aria-hidden","true").removeAttr("id").append(s).appendTo("body"),i.placeholder=s.clone(!1),i.placeholder.find("*[id]").removeAttr("id"),i.host.prepend(i.placeholder),this._matchWidths(i.placeholder,i.floating))},_matchWidths:function(e,o){function t(t){return a(t,e).map(function(){return a(this).width()}).toArray()}function i(t,e){a(t,o).each(function(t){a(this).css({width:e[t],minWidth:e[t]})})}var s=t("th"),d=t("td");i("th",s),i("td",d)},_unsize:function(t){var e=this.dom[t].floating;e&&("footer"===t||"header"===t&&!this.s.autoWidth)?a("th, td",e).css({width:"",minWidth:""}):e&&"header"===t&&a("th, td",e).css("min-width","")},_horizontal:function(t,e){var o=this.dom[t],i=this.s.position,s=this.s.scrollLeft;o.floating&&s[t]!==e&&(o.floating.css("left",i.left-e),s[t]=e)},_modeChange:function(t,e,o){this.s.dt;var i=this.dom[e],s=this.s.position,d=this.dom["footer"===e?"tfoot":"thead"],n=a.contains(d[0],f.activeElement)?f.activeElement:null;n&&n.blur(),"in-place"===t?(i.placeholder&&(i.placeholder.remove(),i.placeholder=null),this._unsize(e),"header"===e?i.host.prepend(d):i.host.append(d),i.floating&&(i.floating.remove(),i.floating=null)):"in"===t?(this._clone(e,o),i.floating.addClass("fixedHeader-floating").css("header"===e?"top":"bottom",this.c[e+"Offset"]).css("left",s.left+"px").css("width",s.width+"px"),"footer"===e&&i.floating.css("top","")):"below"===t?(this._clone(e,o),i.floating.addClass("fixedHeader-locked").css("top",s.tfootTop-s.theadHeight).css("left",s.left+"px").css("width",s.width+"px")):"above"===t&&(this._clone(e,o),i.floating.addClass("fixedHeader-locked").css("top",s.tbodyTop).css("left",s.left+"px").css("width",s.width+"px")),n&&n!==f.activeElement&&setTimeout(function(){n.focus()},10),this.s.scrollLeft.header=-1,this.s.scrollLeft.footer=-1,this.s[e+"Mode"]=t},_positions:function(){var t=this.s.dt.table(),e=this.s.position,o=this.dom,i=a(t.node()),s=i.children("thead"),d=i.children("tfoot"),n=o.tbody;e.visible=i.is(":visible"),e.width=i.outerWidth(),e.left=i.offset().left,e.theadTop=s.offset().top,e.tbodyTop=n.offset().top,e.tbodyHeight=n.outerHeight(),e.theadHeight=e.tbodyTop-e.theadTop,d.length?(e.tfootTop=d.offset().top,e.tfootBottom=e.tfootTop+d.outerHeight(),e.tfootHeight=e.tfootBottom-e.tfootTop):(e.tfootTop=e.tbodyTop+n.outerHeight(),e.tfootBottom=e.tfootTop,e.tfootHeight=e.tfootTop)},_scroll:function(t){var e,o,i=a(f).scrollTop(),s=a(f).scrollLeft(),d=this.s.position;this.c.header&&(e=this.s.enable?!d.visible||i<=d.theadTop-this.c.headerOffset?"in-place":i<=d.tfootTop-d.theadHeight-this.c.headerOffset?"in":"below":"in-place",!t&&e===this.s.headerMode||this._modeChange(e,"header",t),this._horizontal("header",s)),this.c.footer&&this.dom.tfoot.length&&(this.s.enable?o=!d.visible||i+d.windowHeight>=d.tfootBottom+this.c.footerOffset?"in-place":d.windowHeight+i>d.tbodyTop+d.tfootHeight+this.c.footerOffset?"in":"above":e="in-place",!t&&o===this.s.footerMode||this._modeChange(o,"footer",t),this._horizontal("footer",s))}}),r.version="3.1.6",r.defaults={header:!0,footer:!1,headerOffset:0,footerOffset:0},a.fn.dataTable.FixedHeader=r,a.fn.DataTable.FixedHeader=r,a(f).on("init.dt.dtfh",function(t,e,o){if("dt"===t.namespace){var i=e.oInit.fixedHeader,s=n.defaults.fixedHeader;if((i||s)&&!e._fixedHeader){var d=a.extend({},s,i);!1!==i&&new r(e,d)}}}),n.Api.register("fixedHeader()",function(){}),n.Api.register("fixedHeader.adjust()",function(){return this.iterator("table",function(t){var e=t._fixedHeader;e&&e.update()})}),n.Api.register("fixedHeader.enable()",function(o){return this.iterator("table",function(t){var e=t._fixedHeader;o=o===d||o,e&&o!==e.enabled()&&e.enable(o)})}),n.Api.register("fixedHeader.enabled()",function(){if(this.context.length){this.content[0]._fixedHeader;if(fh)return fh.enabled()}return!1}),n.Api.register("fixedHeader.disable()",function(){return this.iterator("table",function(t){var e=t._fixedHeader;e&&e.enabled()&&e.enable(!1)})}),a.each(["header","footer"],function(t,i){n.Api.register("fixedHeader."+i+"Offset()",function(o){var t=this.context;return o===d?t.length&&t[0]._fixedHeader?t[0]._fixedHeader[i+"Offset"]():d:this.iterator("table",function(t){var e=t._fixedHeader;e&&e[i+"Offset"](o)})})}),r});